(this.webpackJsonpcanvas=this.webpackJsonpcanvas||[]).push([[0],{14:function(t,e,n){t.exports=n(25)},19:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"add",(function(){return g})),n.d(a,"toggle",(function(){return O})),n.d(a,"move",(function(){return Y}));var c=n(0),r=n.n(c),o=n(4),u=n.n(o),i=(n(19),n(5)),l=n(7),s=n(8),f=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD":return t=[].concat(Object(s.a)(e),[n.payload]);case"TOGGLE":return(t=Object(s.a)(e)).forEach((function(t){t===n.payload&&(t.lined=!t.lined)})),t;case"MOVE":return(t=Object(s.a)(e)).forEach((function(t){t===n.payload.square&&(t.centerX=n.payload.x,t.centerY=n.payload.y)})),t;default:return e}},d=n(3),h=n(6),v=function t(e,n,a,c){var r=this;Object(h.a)(this,t),this.draw=function(){r.context&&(r.startX=r.squareStart.centerX,r.startY=r.squareStart.centerY,r.endX=r.squareEnd.centerX,r.endY=r.squareEnd.centerY,!1!==r.squareStart.lined&&!1!==r.squareEnd.lined&&(r.context.beginPath(),r.context.strokeStyle=r.color,r.context.moveTo(r.startX,r.startY),r.context.lineTo(r.endX,r.endY),r.context.stroke()))},this.id=e,this.color=c||"black",this.context=null,this.squareStart=n,this.squareEnd=a},b=function t(e,n,a){var c=this;Object(h.a)(this,t),this.lined=!0,this.draw=function(){c.context&&(c.startX=c.centerX-10,c.startY=c.centerY-20,c.endX=c.centerX+10,c.endY=c.centerY+20,c.context.beginPath(),c.context.fillStyle=c.color,c.context.fillRect(c.startX,c.startY,20,40))},this.centerX=e,this.centerY=n,this.color=a||"red",this.context=null},p=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)},E=function(){return{r:p(0,257),g:p(0,257),b:p(0,257)}},g=function(t){return{type:"ADD",payload:t}},O=function(t){return{type:"TOGGLE",payload:t}},Y=function(t,e,n){return{type:"MOVE",payload:{square:t,x:e,y:n}}};var X=Object(l.b)((function(t){return{squares:t}}),a)((function(t){var e=t.squares,n=t.toggle,a=t.move,o=t.add,u=Object(c.useState)(),i=Object(d.a)(u,2),l=i[0],s=i[1],f=Object(c.useState)(),h=Object(d.a)(f,2),p=h[0],g=h[1],O=Object(c.useState)(),Y=Object(d.a)(O,2),X=Y[0],m=Y[1],x=Object(c.useState)(null),y=Object(d.a)(x,2),j=y[0],q=y[1];Object(c.useEffect)((function(){var t=document.getElementById("canvas");g(t.getContext("2d")),m(t.getBoundingClientRect()),s(t)}),[]),Object(c.useEffect)((function(){w()}));var w=function(){if(p&&l&&e&&(p.clearRect(0,0,l.width,l.height),e.forEach((function(t){t.draw()})),e.length>1)){var t=1;e.forEach((function(n){e.forEach((function(e){var a=new v(t,n,e);a.context=p,a.draw(),t++}))}))}},M=function(t,n){var a=!1;return e?(e.filter((function(t){return t!==j})).forEach((function(e){t+10>e.startX&&t<e.startX+30&&n+20>e.startY&&n<e.startY+60&&(a=!0)})),a):a},S=function(t,n){var a=null;return e&&e.forEach((function(e){t>e.startX&&t<e.endX&&n>e.startY&&n<e.endY&&(a=e)})),a};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"Double click on canvas to add rect."),r.a.createElement("p",null,"Double click on rect to toggle lines. You can move Rects."),r.a.createElement("canvas",{id:"canvas",width:600,height:400,onMouseDown:function(t){q(null);var e=t.clientX-X.left,n=t.clientY-X.top;q(S(e,n))},onMouseUp:function(){return q(null)},onMouseMove:function(t){if(X){var e=t.clientX-X.left,n=t.clientY-X.top;j&&(M(e,n)||a(j,e,n))}},onDoubleClick:function(t){var e=t.clientX-X.left,a=t.clientY-X.top,c=S(e,a);if(c&&n(c),!M(e,a)){var r=E(),u="rgb(".concat(r.r,",").concat(r.g,",").concat(r.b,")"),i=new b(e,a,u);i.context=p,o(i)}}})))})),m=Object(i.b)(f);u.a.render(r.a.createElement(l.a,{store:m},r.a.createElement(X,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.053d6e9e.chunk.js.map